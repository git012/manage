webpackJsonp([10],{1001:function(t,a,e){e(1166);var r=e(65)(e(1071),e(1282),null,null);r.options.__file="F:\\changhaochen\\manage\\src\\views\\merchant\\merchant.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] merchant.vue: functional components are not supported with templates, they should use render functions."),t.exports=r.exports},1012:function(t,a,e){t.exports={default:e(1014),__esModule:!0}},1013:function(t,a,e){"use strict";a.__esModule=!0;var r=e(1012),n=function(t){return t&&t.__esModule?t:{default:t}}(r);a.default=function(t,a,e){return a in t?(0,n.default)(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}},1014:function(t,a,e){e(1015);var r=e(66).Object;t.exports=function(t,a,e){return r.defineProperty(t,a,e)}},1015:function(t,a,e){var r=e(117);r(r.S+r.F*!e(85),"Object",{defineProperty:e(67).f})},1071:function(t,a,e){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var n=e(155),i=r(n),s=e(1013),c=r(s),o=e(230),u=r(o),d=e(116),l=r(d),m=e(100),h=r(m);a.default={name:"merchant_list",data:function(){var t,a=this,e=function(t,a,e){a>0?e():e(new Error("请选择商户类型"))},r=function(t,a,e){a>0?e():e(new Error("请选择商户类型"))},n=function(t,a,e){a>=0&&a<100?e():e(new Error("商户折扣差数值应在0-100之间！"))},i=function(t,a,e){/(^[0-9]{15}$)|(^[0-9]{17}([0-9Xx])$)/.test(a)?e():e(new Error("请输入正确格式的身份证"))},s=function(t,a,e){/^((0\d{2,3}-\d{7,8})|(1[3456789]\d{9}))$/.test(a)?e():e(new Error("请输入正确格式的手机号或者座机"))},o=function(t,e,r){""==e&&"1"==a.currentData.merchantIsBoutique?r(new Error("推荐商户必须填写序号")):r()},u=function(t,e,r){""==e&&"2"==a.currentData.merchantType?r(new Error("推荐商户必须填写序号")):r()},d=function(t,e,r){e!==a.currentData.userPassword?r(new Error("两次输入登录密码不一致")):r()},l=function(t,e,r){e!==a.currentData.merchantPasswd?r(new Error("两次输入的提现密码不一致")):r()},m=function(t,a,e){a>0?e():e(new Error("请选择地区"))};return{columns:[{title:"ID",align:"center",key:"merchantId"},{title:"帐号",key:"userName"},{title:"商户名称",key:"merchantName"},{title:"商户面积",key:"operating_area"},{title:"联系人",key:"applicantName"},{title:"商户电话",key:"merchantPhone"},{title:"地区",key:"merchantProvinceId",render:function(t,a){return t("span",{},a.row.merchantProvinceName+a.row.merchantCityName+a.row.merchantDistrictName)}},{title:"分享人",align:"center",key:"merchantBDName"},{title:"商户类型",align:"center",key:"merchantTypeName"},{title:"白积分商品折扣差",align:"center",width:"120",key:"merchantWhitePointDiscount",render:function(t,a){return t("span",{},100*a.row.merchantWhitePointDiscount+"%")}},{title:"商户折扣差",align:"center",width:"100",key:"merchantRatio",render:function(t,a){return t("span",{},100*a.row.merchantRatio+"%")}},{title:"状态",key:"applicantStatus",align:"center",render:function(t,a){var e="default",r="审核中";return 1==a.row.applicantStatus&&(e="green",r="已通过"),2==a.row.applicantStatus&&(e="red",r="已拒绝"),t("Tag",{props:{color:e,size:"small"}},r)}},{title:"操作",key:"action",width:110,align:"center",render:function(t,e){var r=t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){a.doWhat("edit",e.index)}}},"修改"),n=t("Button",{props:{type:"error",size:"small"},on:{click:function(){a.doWhat("review",e.index)}}},"审核"),i=[];return a.checkPower("edit")&&i.push(r),a.checkPower("review")&&i.push(n),t("div",i)}}],saveType:"new",doType:"list",switching:!1,showTypeOn:!1,showTypeOff:!1,tableData:[],merchantTypeData:[],areaData:{areaDataReady:3,province:[],citys:[],district:[],typeMerchant:[{id:1,name:"美食"},{id:2,name:"酒店"},{id:3,name:"休闲娱乐"},{id:4,name:"生活服务"},{id:5,name:"百货超市"},{id:6,name:"丽人/美发"},{id:7,name:"旅游"},{id:8,name:"汽车"},{id:9,name:"房产"},{id:10,name:"其他"}],typeMerchantOn:[{id:1,name:"女鞋箱包"},{id:2,name:"美妆"},{id:3,name:"腕表珠宝"},{id:4,name:"手机数码"},{id:5,name:"母婴玩具"},{id:6,name:"零食茶酒"},{id:7,name:"生鲜水果"},{id:8,name:"生活家电"},{id:9,name:"家具建材"},{id:10,name:"汽车/配件/用品"},{id:11,name:"家纺/家饰/鲜花"},{id:12,name:"医药保健"},{id:13,name:"厨具/收纳/宠物"}]},recordStatus:[{value:"0",name:"审核中"},{value:"1",name:"已通过"},{value:"2",name:"已拒绝"}],recordStatus2:[{value:"",name:"默认排序"},{value:"0",name:"审核中靠前"},{value:"2",name:"已拒绝靠前"},{value:"1",name:"已通过靠前"}],page:{dataCount:0,pageCount:0,pageSize:10,pageNumber:1,pageSizeOpts:[10,20,50,100]},dataReady:3,currentData:{},defaultData:(t={merchantId:0,merchantName:"",merchantType:"",merchantBusiness:"",merchantPhone:"",merchantAddress:"",merchantRatio:"0.0000",merchantLogo:"",merchantLng:"",merchantLat:"",merchantDescription:"",merchantImages:[],merchantTotalCash:"0.0000",merchantTotalScore:"0.0000",orderSuccessCount:0,applicantName:"",applicantIdCard:"",applicantIdCardImage:"",userName:"",userStatus:1,userMobile:"",userCloudAccount:"",userPassword:"",userConfirmPassword:"",userCloudStatus:0,merchantCreateDateTime:"",applicantStatus:0,merchantProvinceId:"",merchantCityId:"",merchantDistrictId:"",merchantBDName:"",merchantBoutiqueSort:"",merchantYgbAccount:"",merchantPasswd:"",merchantConfirmPasswd:"",merchantTypeMerchant:0},(0,c.default)(t,"merchantBoutiqueSort",""),(0,c.default)(t,"userewm",""),t),addDataValidate:{merchantName:[{required:!0,message:"请输入商户名称",trigger:"blur"}],merchantArea:[{required:!0,message:"请输入商户面积",trigger:"blur"}],applicantIdCard:[{required:!0,message:"请输入身份证号"},{validator:i}],userName:[{required:!0,message:"请输入商户帐号",trigger:"blur"}],merchantYgbAccount:[{required:!0,message:"请输入商户预购宝帐号或电话",trigger:"blur"}],merchantPhone:[{required:!0,message:"请输入商户电话"},{validator:s}],userPassword:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:6,message:"请至少输入6个字符",trigger:"blur"},{max:32,message:"最多输入32个字符",trigger:"blur"}],userConfirmPassword:[{required:!0,message:"请再次输入登录密码",trigger:"blur"},{validator:d,trigger:"blur"}],merchantPasswd:[{required:!0,message:"请输入提现密码",trigger:"blur"},{min:6,message:"请至少输入6个字符",trigger:"blur"},{max:32,message:"最多输入32个字符",trigger:"blur"}],merchantConfirmPasswd:[{required:!0,message:"请再次输入提现密码",trigger:"blur"},{validator:l,trigger:"blur"}],merchantRatio:[{required:!0,validator:n,message:"请输入签约比率",trigger:"blur"}],merchantType:[{required:!0,validator:e,trigger:"blur"}],merchantBoutiqueSort:[{required:!0,validator:o,trigger:"blur"}],MerchantBoutiquemerchantIsshop:[{required:!0,validator:u,trigger:"blur"}],merchantProvinceId:[{required:!0,validator:m,trigger:"blur"}]},editDataValidate:{merchantName:[{required:!0,message:"请输入商户名称",trigger:"blur"}],operating_area:[{required:!0,message:"请输入商户面积",trigger:"blur"}],merchantAddress:[{required:!0,message:"请输入经营地址",trigger:"blur"}],applicantIdCard:[{required:!0,message:"请输入身份证号"},{validator:i}],merchantBusinessM:[{required:!0,message:"请输入经营业务",trigger:"blur"}],merchantBusinessDirector:[{required:!0,message:"请输入实际经营负责人",trigger:"blur"}],merchantBusinessPhone:[{required:!0,message:"请输入负责人联系电话"},{validator:s}],merchantPhone:[{required:!0,message:"请输入商家服务电话"},{validator:s}],merchantWktName:[{required:!0,message:"请输入悟空团账号",trigger:"blur"}],merchantWktMobile:[{required:!0,message:"请输入悟空团注册手机号",trigger:"blur"}],merchantBDName:[{required:!0,message:"请输入分享人用户名",trigger:"blur"}],applicantName:[{required:!0,message:"请输入法人姓名",trigger:"blur"}],applicantPhone:[{required:!0,message:"请输入法人联系方式",trigger:"blur"}],merchantSocialCreditCode:[{required:!0,message:"请输入社会信用代码",trigger:"blur"}],merchantAlipay:[{required:!1,message:"请输入支付宝收款号",trigger:"blur"}],merchantWeChat:[{required:!1,message:"请输入微信收款号",trigger:"blur"}],is_direct:[{required:!0,validator:r,trigger:"change"}],userPassword:[{min:6,message:"请至少输入6个字符",trigger:"blur"},{max:32,message:"最多输入32个字符",trigger:"blur"}],userConfirmPassword:[{validator:d,trigger:"blur"}],merchantPasswd:[{min:6,message:"请至少输入6个字符",trigger:"blur"},{max:32,message:"最多输入32个字符",trigger:"blur"}],merchantConfirmPasswd:[{validator:l,trigger:"blur"}]},updateStatusForm:{},updateStatusValidate:{readme:[{required:!0,message:"请输入备注说明",trigger:"blur"}]},oldPassError:"",updateStatus:!1,saveUpdateStatusLoading:!1,searchData:{keyword:"",searchDate:[],startDate:"",endDate:"",type:"",type2:""},searchValidata:{},isShowCurrentImage:!1,viewCurrentImage:""}},computed:{getLoading:function(){return!(0==this.dataReady)},areaDataReady:function(){return!(0==this.areaData.areaDataReady)},doName:function(){return"list"==this.doType?"商户基本信息管理":"edit"==this.doType?"编辑商户":"add"==this.doType?"添加商户":"商户详情"},currentDataValidate:function(){return this.editDataValidate},hasDataChange:function(){return!((0,i.default)(this.currentData)==(0,i.default)(this.tableData[this.currentData.listIndex]))}},methods:{checkPower:function(t){return!!this.$store.state.Rights[u.default.api.merchant.merchant_list[t].MD5()]},doWhat:function(t,a){if(!this.checkPower(t))return void this.$Message.warning("对不起，您没有此操作权限！");this.switching=!0,"add"==t&&(this.resetCurrentData(),this.doType="add"),"edit"==t&&(this.showEdit(a),this.doType="edit"),"delete"==t&&this.delete(a),"review"==t&&this.changeStatus(a),"list"==t&&(this.resetCurrentData(),this.dataReady+=1,this.init(),this.doType="list"),this.switching=!1},view:function(a){this.currentData=t.extend(!0,{},this.tableData[a]),this.doType="view"},showEdit:function(a){this.showTypeOff=!1,this.showTypeOn=!1,this.currentData=t.extend(!0,{},this.tableData[a]),this.currentData.userewm=u.default.apiRootPath+u.default.api.public.ewm+"&merchantId="+this.currentData.merchantId,this.currentData.merchantRatio=100*this.tableData[a].merchantRatio,this.setCity(this.currentData.merchantProvinceId,!0),this.setDistrict(this.currentData.merchantCityId,!0),this.getListType(this.currentData.merchantTypeMerchant),this.doType="edit",2==this.currentData.is_direct?this.showTypeOff=!0:this.showTypeOn=!0},viewImage:function(t){t&&(this.viewCurrentImage=t,this.isShowCurrentImage=!0)},closeViewImage:function(t){this.viewCurrentImage="",this.isShowCurrentImage=!1},resetCurrentData:function(){this.currentData=t.extend(!0,{},this.defaultData)},changePage:function(t){this.page.pageNumber=t,this.search(t)},changePageSize:function(t){this.page.pageSize=t,this.page.pageCount=Math.ceil(this.page.dataCount/this.page.pageSize),this.search()},switchoverType:function(){2==this.currentData.is_direct?(this.showTypeOff=!0,this.showTypeOn=!1):(this.showTypeOn=!0,this.showTypeOff=!1)},resetSearch:function(){this.searchData={keyword:"",searchDate:[],startDate:"",endDate:"",type:""},this.page.pageNumber=1,this.init()},search:function(t){this.searchData.searchDate.length&&(this.searchData.startDate=l.default.FormatDate(this.searchData.searchDate[0],"yyyy-MM-dd"),this.searchData.endDate=l.default.FormatDate(this.searchData.searchDate[1],"yyyy-MM-dd")),this.page.pageNumber=1,t&&(this.page.pageNumber=t),this.doWhat("list")},init:function(){this.dataReady=3,this.getListType(),this.getMerchantType(),this.getList()},getListType:function(a){var e=this;a&&(this.dataReady=1);var r={ssid:h.default.get("ssid"),type:a||2};t.ajax({url:u.default.apiRootPath+u.default.api.merchant.merchant_list.type,type:"POST",dataType:"json",data:r}).done(function(t){if(e.dataReady--,t)if(0==t.code){for(var a=[],r=0;r<t.data.length;r++)a.push({value:parseInt(t.data[r].id),label:t.data[r].name});e.merchantTypeData=a}else u.default.showError({vm:e,data:t,errorMsg:""});else u.default.showError({vm:e,data:t,errorMsg:"请求失败"})}).fail(function(t,a,r){e.dataReady--,u.default.showError({vm:e,errorMsg:"服务器通讯失败"})})},getList:function(){var a=this;this.tableData=[];var e={ssid:h.default.get("ssid"),page:this.page.pageNumber,pageSize:this.page.pageSize};""!=this.searchData.keyword&&(e.search=l.default.trim(this.searchData.keyword)),""!=this.searchData.type&&(e.applicantStatus=this.searchData.type),""!=this.searchData.type2&&(e.applicantStatusOrder=this.searchData.type2),t.ajax({url:u.default.apiRootPath+u.default.api.merchant.merchant_list.list,type:"POST",dataType:"json",data:e}).done(function(t){if(a.dataReady--,t)if(0==t.code){a.page.dataCount=t.data.count,a.page.pageCount=Math.ceil(a.page.dataCount/a.page.pageSize);var e=t.data.list;e.forEach(function(t){t.merchantBDName||(t.merchantBDName=""),t.merchantBDId||(t.merchantBDId=""),t.merchantYgbAccount=t.merchantYgbName}),a.tableData=e}else u.default.showError({vm:a,data:t,errorMsg:""});else u.default.showError({vm:a,data:t,errorMsg:"请求失败"})}).fail(function(t,e,r){a.dataReady--,u.default.showError({vm:a,errorMsg:"服务器通讯失败"})})},getMerchantType:function(){var a=this,e={ssid:h.default.get("ssid"),page:this.page.pageNumber,pageSize:this.page.pageSize};t.ajax({url:u.default.apiRootPath+u.default.api.public.merchantType,type:"POST",dataType:"json",data:e}).done(function(t){if(a.dataReady--,t)if(0==t.code){var e=[];for(var r in t.data)e.push({value:parseInt(r),label:t.data[r]});a.merchantTypeData=e}else u.default.showError({vm:a,data:t,errorMsg:""});else u.default.showError({vm:a,data:t,errorMsg:"请求失败"})}).fail(function(t,e,r){a.dataReady--,u.default.showError({vm:a,errorMsg:"服务器通讯失败"})})},setProvince:function(){var a=this;t.ajax({url:u.default.apiRootPath+u.default.api.public.getProvince,type:"POST",dataType:"json",data:{ssid:h.default.get("ssid")}}).done(function(t){if(t&&0==t.code){var e=[];for(var r in t.data)e[parseInt(t.data[r].id)]={id:t.data[r].id,name:t.data[r].name};a.areaData.province=e}})},setCity:function(a,e){var r=this;a&&(e||(this.currentData.merchantCityId="",this.currentData.merchantDistrictId=""),this.areaData.citys=[],this.areaData.district=[],t.ajax({url:u.default.apiRootPath+u.default.api.public.getCity,type:"POST",dataType:"json",data:{ssid:h.default.get("ssid"),pid:a}}).done(function(t){if(t&&0==t.code){var a=[];for(var e in t.data)a[parseInt(t.data[e].id)]={id:t.data[e].id,name:t.data[e].name,pid:t.data[e].pid};r.areaData.citys=a}}))},setDistrict:function(a,e){var r=this;a&&(this.areaData.district=[],e||(this.currentData.merchantDistrictId=""),t.ajax({url:u.default.apiRootPath+u.default.api.public.getDistrict,type:"POST",dataType:"json",data:{ssid:h.default.get("ssid"),cid:a}}).done(function(t){if(t&&0==t.code){var a=[];for(var e in t.data)a[parseInt(t.data[e].id)]={id:t.data[e].id,name:t.data[e].name,cid:t.data[e].cid};r.areaData.district=a}}))},saveEdit:function(){var a=this;this.hasDataChange&&this.$refs.currentData.validate(function(e){if(e){a.switching=!0;var r={};r.ssid=h.default.get("ssid"),r.merchantName=a.currentData.merchantName,r.operating_area=a.currentData.operating_area,r.merchantProvince=a.currentData.merchantProvinceId,r.merchantCity=a.currentData.merchantCityId,r.merchantDistrict=a.currentData.merchantDistrictId,r.merchantAddress=a.currentData.merchantAddress,r.is_direct=a.currentData.is_direct,r.merchantType=a.currentData.merchantType,r.merchantBusinessM=a.currentData.merchantBusinessM,r.merchantBusinessDirector=a.currentData.merchantBusinessDirector,r.merchantBusinessPhone=a.currentData.merchantBusinessPhone,r.merchantPhone=a.currentData.merchantPhone,r.merchantWktName=a.currentData.merchantWktName,r.merchantWktMobile=a.currentData.merchantWktMobile,r.merchantBDName=a.currentData.merchantBDName,r.applicantName=a.currentData.applicantName,r.applicantPhone=a.currentData.applicantPhone,r.applicantIdCard=a.currentData.applicantIdCard,r.merchantSocialCreditCode=a.currentData.merchantSocialCreditCode,r.merchantAlipay=a.currentData.merchantAlipay,r.merchantWeChat=a.currentData.merchantWeChat,r.userPassword=a.currentData.userPassword||"",r.userConfirmPassword=a.currentData.userConfirmPassword||"",r.merchantPasswd=a.currentData.merchantPasswd||"",r.merchantConfirmPasswd=a.currentData.merchantConfirmPasswd||"";var n=u.default.apiRootPath+u.default.api.merchant.merchant_list.add;"edit"==a.doType&&(r.merchantId=a.currentData.merchantId,n=u.default.apiRootPath+u.default.api.merchant.merchant_list.edit);t.ajax({url:n,type:"POST",dataType:"json",data:r}).done(function(t){a.switching=!1,t?0==t.code?("add"==a.doType&&a.doWhat("list"),a.$Message.success("账户保存成功！"),a.doWhat("list")):u.default.showError({vm:a,data:t,errorMsg:""}):u.default.showError({vm:a,data:t,errorMsg:"请求失败"})}).fail(function(t,e,r){a.switching=!1,u.default.showError({vm:a,errorMsg:"服务器通讯失败"})})}})},changeStatus:function(a){this.updateStatusForm=t.extend(!0,{},this.tableData[a]),this.updateStatusForm.tableIndex=a,this.updateStatus=!0},cancelUpdateStatus:function(){this.updateStatusForm={},this.updateStatus=!1},saveUpdateStatus:function(){var a=this;this.saveUpdateStatusLoading=!0;var e={ssid:h.default.get("ssid"),id:this.updateStatusForm.merchantId,status:this.updateStatusForm.applicantStatus};t.ajax({url:u.default.apiRootPath+u.default.api.merchant.merchant_list.review,type:"POST",dataType:"json",data:e}).done(function(e){if(a.saveUpdateStatusLoading=!1,e)if(0==e.code){a.$Message.success("操作成功！");var r=t.extend(!0,[],a.tableData);r[a.updateStatusForm.tableIndex]=a.updateStatusForm,a.updateStatusForm={},a.tableData=r,a.updateStatus=!1,a.doWhat("list")}else u.default.showError({vm:a,data:e,errorMsg:""});else u.default.showError({vm:a,data:e,errorMsg:"请求失败"})}).fail(function(t,e,r){a.savePassLoading=!1,u.default.showError({vm:a,errorMsg:"服务器通讯失败"})})},delete:function(a){var e=this;if(this.tableData[a].id){t.ajax({url:u.default.apiRootPath+u.default.api.merchant.merchant_list.delete,type:"POST",dataType:"json",data:function(){return{ssid:h.default.get("ssid"),id:e.tableData[a].id,status:0}}()}).done(function(t){t?0==t.code?(e.$Message.success("删除成功!"),e.tableData.splice(a,1)):u.default.showError({vm:e,data:t,errorMsg:""}):u.default.showError({vm:e,data:t,errorMsg:"请求失败"})}).fail(function(t,a,r){u.default.showError({vm:e,errorMsg:"服务器通讯失败"})})}}},mounted:function(){this.setProvince()},activated:function(){this.doWhat("list")}}}).call(a,e(154))},1166:function(t,a){},1282:function(t,a,e){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Card",[e("p",{staticClass:"hasButtonP",attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"person"}}),t._v("\n            "+t._s(t.doName)+"\n            "),t.checkPower("list")&&"list"!=t.doType?e("Button",{staticClass:"add-btu margin-left-10",attrs:{type:"warning",size:"small"},on:{click:function(a){t.doWhat("list")}}},[t._v("返回列表\n            ")]):t._e()],1),t._v(" "),e("div",{staticClass:"doBox"},[t.switching?e("Spin",{attrs:{size:"large",fix:""}}):t._e(),t._v(" "),"add"==t.doType||"edit"==t.doType?e("div",[e("Form",{ref:"currentData",attrs:{model:t.currentData,"label-width":150,"label-position":"right",rules:t.currentDataValidate}},[e("FormItem",{attrs:{label:"商户名称：",prop:"merchantName"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{model:{value:t.currentData.merchantName,callback:function(a){t.$set(t.currentData,"merchantName",a)},expression:"currentData.merchantName"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"商户面积：",prop:"operating_area"}},[e("div",{staticStyle:{width:"280px"}},[e("Input",{staticStyle:{width:"200px"},model:{value:t.currentData.operating_area,callback:function(a){t.$set(t.currentData,"operating_area",a)},expression:"currentData.operating_area"}}),t._v(" "),e("span",{staticStyle:{color:"red"}},[t._v("单位：㎡")])],1)]),t._v(" "),e("FormItem",{attrs:{label:"商户区域：",prop:"merchantProvinceId"}},[e("div",{staticStyle:{display:"inline-block",width:"140px"}},[e("Select",{attrs:{placeholder:"请选择省份"},on:{"on-change":t.setCity},model:{value:t.currentData.merchantProvinceId,callback:function(a){t.$set(t.currentData,"merchantProvinceId",a)},expression:"currentData.merchantProvinceId"}},t._l(t.areaData.province,function(a){return a?e("Option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))]):t._e()}))],1),t._v(" "),e("div",{staticStyle:{display:"inline-block",width:"140px"}},[t.areaData.citys.length&&t.currentData.merchantProvinceId?e("Select",{attrs:{placeholder:"请选择城市"},on:{"on-change":t.setDistrict},model:{value:t.currentData.merchantCityId,callback:function(a){t.$set(t.currentData,"merchantCityId",a)},expression:"currentData.merchantCityId"}},t._l(t.areaData.citys,function(a){return a?e("Option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))]):t._e()})):t._e()],1),t._v(" "),e("div",{staticStyle:{display:"inline-block",width:"140px"}},[t.areaData.district.length&&t.currentData.merchantCityId?e("Select",{attrs:{placeholder:"请选择区县"},model:{value:t.currentData.merchantDistrictId,callback:function(a){t.$set(t.currentData,"merchantDistrictId",a)},expression:"currentData.merchantDistrictId"}},t._l(t.areaData.district,function(a){return a?e("Option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))]):t._e()})):t._e()],1)]),t._v(" "),e("FormItem",{attrs:{label:"经营地址：",prop:"merchantAddress"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{model:{value:t.currentData.merchantAddress,callback:function(a){t.$set(t.currentData,"merchantAddress",a)},expression:"currentData.merchantAddress"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"商户类型：",prop:"is_direct"}},[e("RadioGroup",{on:{"on-change":t.switchoverType},model:{value:t.currentData.is_direct,callback:function(a){t.$set(t.currentData,"is_direct",a)},expression:"currentData.is_direct"}},[e("Radio",{attrs:{label:"1"}},[e("span",[t._v("线上联盟商家")])]),t._v(" "),e("Radio",{attrs:{label:"2"}},[e("span",[t._v("线下联盟商家")])]),t._v(" "),e("Radio",{attrs:{label:"3"}},[e("span",[t._v("白积分商家")])])],1)],1),t._v(" "),t.showTypeOff?e("FormItem",{attrs:{label:"所属行业："}},[e("div",{staticStyle:{display:"inline-block",width:"140px"}},[e("Select",{model:{value:t.currentData.merchantType,callback:function(a){t.$set(t.currentData,"merchantType",a)},expression:"currentData.merchantType"}},t._l(t.areaData.typeMerchant,function(a){return a?e("Option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))]):t._e()}))],1)]):t._e(),t._v(" "),t.showTypeOn?e("FormItem",{attrs:{label:"所属行业："}},[e("div",{staticStyle:{display:"inline-block",width:"140px"}},[e("Select",{model:{value:t.currentData.merchantType,callback:function(a){t.$set(t.currentData,"merchantType",a)},expression:"currentData.merchantType"}},t._l(t.areaData.typeMerchantOn,function(a){return a?e("Option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))]):t._e()}))],1)]):t._e(),t._v(" "),e("FormItem",{attrs:{label:"经营业务：",prop:"merchantBusinessM"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{model:{value:t.currentData.merchantBusinessM,callback:function(a){t.$set(t.currentData,"merchantBusinessM",a)},expression:"currentData.merchantBusinessM"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"实际经营负责人：",prop:"merchantBusinessDirector"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{model:{value:t.currentData.merchantBusinessDirector,callback:function(a){t.$set(t.currentData,"merchantBusinessDirector",a)},expression:"currentData.merchantBusinessDirector"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"负责人联系电话：",prop:"merchantBusinessPhone"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{model:{value:t.currentData.merchantBusinessPhone,callback:function(a){t.$set(t.currentData,"merchantBusinessPhone",a)},expression:"currentData.merchantBusinessPhone"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"商家服务电话：",prop:"merchantPhone"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{model:{value:t.currentData.merchantPhone,callback:function(a){t.$set(t.currentData,"merchantPhone",a)},expression:"currentData.merchantPhone"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"悟空团账号：",prop:"merchantWktName"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{attrs:{readonly:""},model:{value:t.currentData.merchantWktName,callback:function(a){t.$set(t.currentData,"merchantWktName",a)},expression:"currentData.merchantWktName"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"悟空团注册手机号：",prop:"merchantWktMobile"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{attrs:{readonly:""},model:{value:t.currentData.merchantWktMobile,callback:function(a){t.$set(t.currentData,"merchantWktMobile",a)},expression:"currentData.merchantWktMobile"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"分享人用户名：",prop:"merchantBDName"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{attrs:{readonly:""},model:{value:t.currentData.merchantBDName,callback:function(a){t.$set(t.currentData,"merchantBDName",a)},expression:"currentData.merchantBDName"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"法人姓名：",prop:"applicantName"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{model:{value:t.currentData.applicantName,callback:function(a){t.$set(t.currentData,"applicantName",a)},expression:"currentData.applicantName"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"法人联系方式：",prop:"applicantPhone"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{model:{value:t.currentData.applicantPhone,callback:function(a){t.$set(t.currentData,"applicantPhone",a)},expression:"currentData.applicantPhone"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"法人身份证号码：",prop:"applicantIdCard"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{model:{value:t.currentData.applicantIdCard,callback:function(a){t.$set(t.currentData,"applicantIdCard",a)},expression:"currentData.applicantIdCard"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"社会信用代码：",prop:"merchantSocialCreditCode"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{model:{value:t.currentData.merchantSocialCreditCode,callback:function(a){t.$set(t.currentData,"merchantSocialCreditCode",a)},expression:"currentData.merchantSocialCreditCode"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"支付宝收款号：",prop:"merchantAlipay"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{model:{value:t.currentData.merchantAlipay,callback:function(a){t.$set(t.currentData,"merchantAlipay",a)},expression:"currentData.merchantAlipay"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"微信收款号：",prop:"merchantWeChat"}},[e("div",{staticStyle:{width:"200px"}},[e("Input",{model:{value:t.currentData.merchantWeChat,callback:function(a){t.$set(t.currentData,"merchantWeChat",a)},expression:"currentData.merchantWeChat"}})],1)]),t._v(" "),e("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"身份证正面照："}},[e("img",{staticClass:"viewImg",attrs:{height:"60",src:t.currentData.applicantIdCardImage},on:{click:function(a){t.viewImage(t.currentData.applicantIdCardImage)}}})]),t._v(" "),e("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"身份证反面照："}},[e("img",{staticClass:"viewImg",attrs:{height:"60",src:t.currentData.applicantIdCardImage2},on:{click:function(a){t.viewImage(t.currentData.applicantIdCardImage2)}}})]),t._v(" "),e("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"营业执照："}},[e("img",{staticClass:"viewImg",attrs:{height:"60",src:t.currentData.merchantBusiness},on:{click:function(a){t.viewImage(t.currentData.merchantBusiness)}}})]),t._v(" "),e("FormItem",{attrs:{label:"登录密码：",prop:"userPassword"}},[e("div",{staticStyle:{width:"204px"}},[e("Input",{model:{value:t.currentData.userPassword,callback:function(a){t.$set(t.currentData,"userPassword",a)},expression:"currentData.userPassword"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"确认登录密码：",prop:"userConfirmPassword"}},[e("div",{staticStyle:{width:"204px"}},[e("Input",{model:{value:t.currentData.userConfirmPassword,callback:function(a){t.$set(t.currentData,"userConfirmPassword",a)},expression:"currentData.userConfirmPassword"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"提现密码：",prop:"merchantPasswd"}},[e("div",{staticStyle:{width:"204px"}},[e("Input",{model:{value:t.currentData.merchantPasswd,callback:function(a){t.$set(t.currentData,"merchantPasswd",a)},expression:"currentData.merchantPasswd"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"确认提现密码：",prop:"merchantConfirmPasswd"}},[e("div",{staticStyle:{width:"204px"}},[e("Input",{model:{value:t.currentData.merchantConfirmPasswd,callback:function(a){t.$set(t.currentData,"merchantConfirmPasswd",a)},expression:"currentData.merchantConfirmPasswd"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:""}},[e("Button",{staticStyle:{width:"100px","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("保存")]),t._v(" "),e("Button",{staticStyle:{width:"100px"},attrs:{type:"default"},on:{click:function(a){t.doWhat("list")}}},[t._v("返回列表")])],1),t._v(" "),t.currentData.userewm?e("div",{staticClass:"shop-ewm"},[e("a",{attrs:{href:t.currentData.userewm,target:"blank"}},[e("img",{attrs:{src:t.currentData.userewm}})]),e("br"),t._v("点击右键选择图片另存为"),e("br"),t._v("即可下载二维码")]):t._e()],1)],1):t._e(),t._v(" "),"list"==t.doType?e("div",{staticClass:"ordler-list"},[e("div",{staticClass:"search-box"},[e("Form",{ref:"searchData",attrs:{model:t.searchData,rules:t.searchValidata,inline:""}},[e("FormItem",{attrs:{prop:"keyword"}},[e("Input",{attrs:{type:"text",placeholder:"输入名称或者帐号搜索商户"},model:{value:t.searchData.keyword,callback:function(a){t.$set(t.searchData,"keyword",a)},expression:"searchData.keyword"}},[e("Icon",{attrs:{slot:"prepend",type:"ios-eye"},slot:"prepend"})],1)],1),t._v(" "),e("FormItem",[e("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择审核状态"},model:{value:t.searchData.type,callback:function(a){t.$set(t.searchData,"type",a)},expression:"searchData.type"}},t._l(t.recordStatus,function(a){return e("Option",{attrs:{value:a.value}},[t._v(t._s(a.name))])})),t._v(" "),e("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择列表排序方式"},on:{"on-change":function(a){t.search()}},model:{value:t.searchData.type2,callback:function(a){t.$set(t.searchData,"type2",a)},expression:"searchData.type2"}},t._l(t.recordStatus2,function(a){return e("Option",{attrs:{value:a.value}},[t._v(t._s(a.name))])}))],1),t._v(" "),e("FormItem",[e("ButtonGroup",[e("Button",{attrs:{type:"primary",icon:"search"},on:{click:function(a){t.search()}}},[t._v("搜索")]),t._v(" "),e("Button",{on:{click:function(a){t.resetSearch()}}},[t._v("清空")])],1)],1)],1)],1),t._v(" "),"list"==t.doType?e("Table",{staticClass:"small_table",attrs:{border:"",columns:t.columns,data:t.tableData}}):t._e(),t._v(" "),e("div",{staticClass:"page-box"},[t.page.dataCount>10?e("Page",{attrs:{total:t.page.dataCount,current:t.page.pageNumber,"show-total":"","page-size-opts":t.page.pageSizeOpts,"page-size":t.page.pageSize,"show-elevator":"",placement:"top","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}}):t._e()],1)],1):t._e()],1),t._v(" "),e("Modal",{attrs:{closable:!1,"mask-closable":!1,width:500},model:{value:t.updateStatus,callback:function(a){t.updateStatus=a},expression:"updateStatus"}},[e("h3",{staticStyle:{color:"#2D8CF0"},attrs:{slot:"header"},slot:"header"},[t._v("商户审核")]),t._v(" "),e("Form",{ref:"updateStatusForm",attrs:{model:t.updateStatusForm,"label-width":100,"label-position":"right",rules:t.updateStatusValidate}},[e("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"商户帐号："}},[t._v("\n                    "+t._s(t.updateStatusForm.userName)+"\n                ")]),t._v(" "),e("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"店铺logo："}},[e("img",{staticClass:"viewImg",attrs:{height:"60",src:t.updateStatusForm.merchantLogo},on:{click:function(a){t.viewImage(t.updateStatusForm.merchantLogo)}}})]),t._v(" "),e("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"店铺照片："}},t._l(t.updateStatusForm.merchantImages,function(a){return e("img",{staticClass:"viewImg",staticStyle:{"margin-right":"2px"},attrs:{width:"19%",src:a.image},on:{click:function(e){t.viewImage(a.image)}}})})),t._v(" "),e("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"营业执照："}},[e("img",{staticClass:"viewImg",attrs:{height:"60",src:t.updateStatusForm.merchantBusiness},on:{click:function(a){t.viewImage(t.updateStatusForm.merchantBusiness)}}})]),t._v(" "),e("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"店铺地址："}},[t._v("\n                    "+t._s(t.updateStatusForm.merchantAddress)+"\n                ")]),t._v(" "),e("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"地图经度："}},[t._v("\n                    "+t._s(t.updateStatusForm.merchantLng)+"\n                ")]),t._v(" "),e("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"地图纬度："}},[t._v("\n                    "+t._s(t.updateStatusForm.merchantLat)+"\n                ")]),t._v(" "),e("FormItem",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"商户名称："}},[t._v("\n                    "+t._s(t.updateStatusForm.merchantName)+"\n                ")]),t._v(" "),e("FormItem",{attrs:{label:"审核状态：",prop:"status"}},[e("RadioGroup",{model:{value:t.updateStatusForm.applicantStatus,callback:function(a){t.$set(t.updateStatusForm,"applicantStatus",a)},expression:"updateStatusForm.applicantStatus"}},[e("Radio",{attrs:{label:"0"}},[e("span",[t._v("未审核")])]),t._v(" "),e("Radio",{attrs:{label:"1"}},[e("span",[t._v("通过")])]),t._v(" "),e("Radio",{attrs:{label:"2"}},[e("span",[t._v("未通过")])])],1)],1)],1),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text"},on:{click:t.cancelUpdateStatus}},[t._v("取消")]),t._v(" "),e("Button",{attrs:{type:"primary",loading:t.saveUpdateStatusLoading},on:{click:t.saveUpdateStatus}},[t._v("保存")])],1)],1),t._v(" "),e("Modal",{attrs:{width:600},model:{value:t.isShowCurrentImage,callback:function(a){t.isShowCurrentImage=a},expression:"isShowCurrentImage"}},[e("h3",{staticStyle:{color:"#2D8CF0"},attrs:{slot:"header"},slot:"header"},[t._v("图片预览")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("img",{attrs:{src:t.viewCurrentImage,width:"100%"}})]),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"primary"},on:{click:t.closeViewImage}},[t._v("关闭")])],1)])],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}});